kind: pipeline
type: docker
name: default

steps:
  - name: sonar-analyses
    image: hub.codefirst.iut.uca.fr/maxence.lanone/drone-sonarplugin-reactnative:latest
    commands:
      - apk add --no-cache bash
      - npm ci

  - name: build
    image: node:14-alpine
    commands:
      - npm run build

  - name: test
    image: node:14-alpine
    commands:
      - npm run test